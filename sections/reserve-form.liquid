{% form 'contact', id: 'vs-reserve-form', class: 'vs-form', novalidate: 'novalidate' %}

  {%- if form.posted_successfully? -%}
    <p class="vs-success">✅ Thank you — your reservation request was sent. We’ll contact you shortly.</p>
  {%- endif -%}

  {%- if form.errors -%}
    <p class="vs-error">⚠️ Please fix the errors and try again.</p>
  {%- endif -%}

  <!-- Hidden product context -->
  <input type="hidden" name="contact[Tags]" value="Reserve Request">
  <input type="hidden" name="contact[Product]" value="{{ product.title }}">
  <input type="hidden" name="contact[URL]" value="{{ product.url }}">
  <input type="hidden" name="contact[Variant]" value="{{ product.selected_or_first_available_variant.title }}">

  <!-- Visible form fields -->
  <label class="vs-label" for="vs-name">Full name</label>
  <input id="vs-name" class="vs-input" type="text" name="contact[Name]" required>

  <label class="vs-label" for="vs-email">Email</label>
  <input id="vs-email" class="vs-input" type="email" name="contact[email]" required>

  <label class="vs-label" for="vs-phone">Phone (optional)</label>
  <input id="vs-phone" class="vs-input" type="tel" name="contact[Phone]">

  <label class="vs-label" for="vs-notes">Notes / preferences</label>
  <textarea id="vs-notes" class="vs-textarea" name="contact[Body]" rows="4"
    placeholder="Sizing, color, delivery preference, etc."></textarea>

  <!-- Submit -->
  <button type="submit" class="vs-btn">
    {{ section.settings.button_label | default: 'Reserve Now' }}
  </button>

  <!-- Optional secondary link -->
  {% if section.settings.secondary_link != blank %}
    <a class="vs-link" href="{{ section.settings.secondary_link }}">
      {{ section.settings.secondary_label }}
    </a>
  {% endif %}

{% endform %}
